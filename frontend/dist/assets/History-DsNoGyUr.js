import{r as t,p as u,j as e,l as n,u as V,N as y,s as E,f as b}from"./index-BFuSrCVB.js";const H=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M208,28H188V24a12,12,0,0,0-24,0v4H92V24a12,12,0,0,0-24,0v4H48A20,20,0,0,0,28,48V208a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V48A20,20,0,0,0,208,28ZM68,52a12,12,0,0,0,24,0h72a12,12,0,0,0,24,0h16V76H52V52ZM52,204V100H204V204Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M216,48V88H40V48a8,8,0,0,1,8-8H208A8,8,0,0,1,216,48Z",opacity:"0.2"}),t.createElement("path",{d:"M208,32H184V24a8,8,0,0,0-16,0v8H88V24a8,8,0,0,0-16,0v8H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM72,48v8a8,8,0,0,0,16,0V48h80v8a8,8,0,0,0,16,0V48h24V80H48V48ZM208,208H48V96H208V208Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M208,32H184V24a8,8,0,0,0-16,0v8H88V24a8,8,0,0,0-16,0v8H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32Zm0,48H48V48H72v8a8,8,0,0,0,16,0V48h80v8a8,8,0,0,0,16,0V48h24Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M208,34H182V24a6,6,0,0,0-12,0V34H86V24a6,6,0,0,0-12,0V34H48A14,14,0,0,0,34,48V208a14,14,0,0,0,14,14H208a14,14,0,0,0,14-14V48A14,14,0,0,0,208,34ZM48,46H74V56a6,6,0,0,0,12,0V46h84V56a6,6,0,0,0,12,0V46h26a2,2,0,0,1,2,2V82H46V48A2,2,0,0,1,48,46ZM208,210H48a2,2,0,0,1-2-2V94H210V208A2,2,0,0,1,208,210Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M208,32H184V24a8,8,0,0,0-16,0v8H88V24a8,8,0,0,0-16,0v8H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM72,48v8a8,8,0,0,0,16,0V48h80v8a8,8,0,0,0,16,0V48h24V80H48V48ZM208,208H48V96H208V208Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M208,36H180V24a4,4,0,0,0-8,0V36H84V24a4,4,0,0,0-8,0V36H48A12,12,0,0,0,36,48V208a12,12,0,0,0,12,12H208a12,12,0,0,0,12-12V48A12,12,0,0,0,208,36ZM48,44H76V56a4,4,0,0,0,8,0V44h88V56a4,4,0,0,0,8,0V44h28a4,4,0,0,1,4,4V84H44V48A4,4,0,0,1,48,44ZM208,212H48a4,4,0,0,1-4-4V92H212V208A4,4,0,0,1,208,212Z"}))]]),j=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M216.49,104.49l-80,80a12,12,0,0,1-17,0l-80-80a12,12,0,0,1,17-17L128,159l71.51-71.52a12,12,0,0,1,17,17Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M208,96l-80,80L48,96Z",opacity:"0.2"}),t.createElement("path",{d:"M215.39,92.94A8,8,0,0,0,208,88H48a8,8,0,0,0-5.66,13.66l80,80a8,8,0,0,0,11.32,0l80-80A8,8,0,0,0,215.39,92.94ZM128,164.69,67.31,104H188.69Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,48,88H208a8,8,0,0,1,5.66,13.66Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M212.24,100.24l-80,80a6,6,0,0,1-8.48,0l-80-80a6,6,0,0,1,8.48-8.48L128,167.51l75.76-75.75a6,6,0,0,1,8.48,8.48Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M210.83,98.83l-80,80a4,4,0,0,1-5.66,0l-80-80a4,4,0,0,1,5.66-5.66L128,170.34l77.17-77.17a4,4,0,1,1,5.66,5.66Z"}))]]),f=t.forwardRef((a,o)=>t.createElement(u,{ref:o,...a,weights:H}));f.displayName="CalendarBlankIcon";const w=f,v=t.forwardRef((a,o)=>t.createElement(u,{ref:o,...a,weights:j}));v.displayName="CaretDownIcon";const $=v,M=({plans:a})=>{const[o,l]=t.useState(7),c=new Date,s=a.filter(r=>(c-new Date(r.date))/(1e3*60*60*24)<=o).sort((r,i)=>new Date(r.date)-new Date(i.date)),d=r=>r>=7?"#a8d5ba":r>=4?"#f0c060":"#c47a7a";return e.jsxs(Z,{children:[e.jsxs(k,{children:[e.jsx(A,{children:"EnergiÃ¶versikt"}),e.jsxs(z,{children:[e.jsx(p,{$active:o===7,onClick:()=>l(7),children:"Vecka"}),e.jsx(p,{$active:o===30,onClick:()=>l(30),children:"MÃ¥nad"})]})]}),s.length===0?e.jsx(_,{children:"Ingen data fÃ¶r perioden"}):e.jsx(F,{children:s.map(r=>e.jsxs(B,{children:[e.jsx(C,{children:e.jsx(D,{$height:r.currentEnergy/10*100,$color:d(r.currentEnergy)})}),e.jsx(L,{children:new Date(r.date).toLocaleDateString("sv-SE",{weekday:"short"})}),e.jsx(S,{children:r.currentEnergy})]},r._id))})]})},Z=n.div`
  background: rgba(255, 255, 255, 0.4);
  box-shadow: 0 2px 16px rgba(0, 0, 0, 0.08);
  backdrop-filter: blur(6px);
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 16px;
  overflow: hidden;
`,k=n.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
`,A=n.h3`
  margin: 0;
  font-size: 15px;
  color: var(--color-text);
`,z=n.div`
  display: flex;
  gap: 6px;
`,p=n.button`
  padding: 4px 12px;
  border-radius: 20px;
  border: 1px solid var(--color-border);
  background: ${a=>a.$active?"var(--color-primary)":"transparent"};
  color: ${a=>a.$active?"white":"var(--color-text)"};
  font-size: 13px;
  cursor: pointer;
`,F=n.div`
  display: flex;
  align-items: flex-end;
  gap: 6px;
  justify-content: space-around;
  overflow-x: auto;
`,B=n.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  flex: 1;
`,C=n.div`
  width: 100%;
  height: 100px;
  display: flex;
  align-items: flex-end;
`,D=n.div`
  width: 100%;
  height: ${a=>a.$height}%;
  background: ${a=>a.$color};
  border-radius: 6px 6px 2px 2px;
  transition: height 0.4s ease;
  min-height: 4px;
`,L=n.span`
  font-size: 11px;
  color: var(--color-text-muted);
  text-transform: capitalize;
`,S=n.span`
  font-size: 12px;
  font-weight: 600;
  color: var(--color-text);
`,_=n.p`
  text-align: center;
  color: var(--color-text-muted);
  font-size: 14px;
  padding: 24px 0;
`,X=()=>{const[a,o]=t.useState([]),[l,c]=t.useState(null),s=V(),d=(r,i)=>{const x=i-r;return x>=0?"Energin hÃ¶ll i sig bra idag!":x>=2?"Lite tyngre dag - men du tog dig igenom den.":"Tuff dag idag. LÃ¤gg in en vilosam aktivitet extra i morgon"};return t.useEffect(()=>{(async()=>{const i=await b();o(i)})()},[]),e.jsxs(e.Fragment,{children:[e.jsx(y,{}),e.jsx(K,{children:e.jsxs(Q,{onClick:()=>s(-1),children:[e.jsx(E,{size:20})," Tillbaka"]})}),e.jsx(N,{children:a.length===0?e.jsxs(R,{children:[e.jsx("span",{children:"ðŸŒ¿"}),e.jsx("p",{children:"Du har inte loggat nÃ¥gon dag Ã¤nnu!"}),e.jsx("p",{children:"GÃ¥ tillbaka och planera din fÃ¶rsta dag."})]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{plans:a}),a.map(r=>e.jsxs(G,{$energy:r.currentEnergy,$open:l===r._id,onClick:()=>c(l===r._id?null:r._id),children:[e.jsxs(I,{$open:l===r._id,children:[e.jsx(w,{size:16,weight:"fill"}),e.jsx("h3",{children:new Date(r.date).toLocaleDateString("sv-SE",{weekday:"long",day:"numeric",month:"long"})}),e.jsx($,{size:14,style:{marginLeft:"auto",transition:"transform 0.2s",transform:l===r._id?"rotate(180deg)":"rotate(0deg)"}})]}),l===r._id&&e.jsxs(e.Fragment,{children:[e.jsx(P,{children:e.jsxs(T,{children:[e.jsxs(m,{children:[e.jsx(g,{children:r.startingEnergy}),e.jsx(h,{children:"start"})]}),e.jsx(O,{$positive:r.currentEnergy>=r.startingEnergy,children:r.currentEnergy>=r.startingEnergy?"â†‘":"â†“"}),e.jsxs(m,{children:[e.jsx(g,{$end:!0,$positive:r.currentEnergy>=r.startingEnergy,children:r.currentEnergy}),e.jsx(h,{children:"slut"})]})]})}),e.jsx(W,{children:d(r.startingEnergy,r.currentEnergy)}),e.jsx(q,{children:r.activities.map(i=>e.jsx(J,{$positive:i.energyImpact>0,children:i.name},i._id))})]})]},r._id))]})})]})},N=n.div`
  padding: 8px 16px 16px;
`,R=n.div`
  text-align: center;
  padding: 48px 16px;
  color: var(--color-text);

  span {
    font-size: 48px;
  }
`,G=n.div`
  background: rgba(255, 255, 255, 0.4);
  box-shadow: 0 2px 16px rgba(0, 0, 0, 0.08);
  backdrop-filter: blur(6px);
  border-left: 5px solid ${a=>a.$energy>=7?"#a8d5ba":a.$energy>=4?"#f0c060":"#c47a7a"};

  border-radius: 12px;
  padding: ${a=>a.$open?"10px":"8px 10px"};
  margin-bottom: 10px;
  cursor: pointer;

  h3 {
    margin: 0 0 8px 0;
    text-transform: capitalize;
  }

  p {
    margin: 0 0 12px 0;
    color: var(--color-text-muted);
  }
`,I=n.div`
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 12px;
  color: var(--color-text-muted);

  h3 {
    margin: 0;
    text-transform: capitalize;
    font-size: 15px;
  }
`,P=n.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 12px;
`,T=n.div`
  display: flex;
  align-items: baseline;
  gap: 6px;
  flex-shrink: 0;
`,W=n.p`
  flex: 1;
  font-size: 13px;
  color: var(--color-text-muted);
  font-style: italic;
  margin: 0 0 12px 0;
`,g=n.span`
  font-size: 36px;
  font-weight: 700;
  line-height: 1;
  color: ${({$end:a,$positive:o})=>a?o?"var(--color-forest)":"var(--color-error)":"var(--color-text-muted)"};
`,m=n.div`
  display: flex;
  flex-direction: column;
  align-items: center;
`,h=n.span`
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--color-text-muted);
`,O=n.span`
  font-size: 24px;
  align-self: center;
  color: ${({$positive:a})=>a?"var(--color-forest)":"var(--color-error)"};
`,q=n.span`
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
`,J=n.span`
  display: inline-block;
  padding: 10px 14px;
  border-radius: 16px;
  font-size: 14px;
  font-weight: 500;
  color: var(--color-text);
  background: ${a=>a.$positive?"rgba(74, 124, 89, 0.15)":"var(--color-error-light)"};
  border: 1px solid ${a=>a.$positive?"var(--color-forest)":"var(--color-error)"};
`,K=n.div`
  padding: 4px 16px;
`,Q=n.button`
  display: flex;
  align-items: center;
  gap: 6px;
  background: none;
  border: none;
  cursor: pointer;
  color: var(--color-text);
  font-size: 14px;
  padding: 4px 0;
  margin-bottom: 8px;

  &:hover {
    color: var(--color-primary);
}
`;export{X as History};
